{"version":3,"file":"commonHelpers.js","sources":["../src/img/octagon.png","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEZSURBVHgBrZVRDoMgDIar0fi6m2xH2Y3Ek2w3cFfZXXwBljFQCai0xemfoCaU/xNpKwAirXWrlDY5w8ViPhVmbgwIO14A3zeQKq/2IuwaqOu6A07+zaVUT8iUi+V28rd5NuSIOQs5wxyFUOZKqRtnmIpZQCZz3acWcgcXUjkF0b2bmwFSpAxskMAgYecaWSsFC8AgnHkMqIBR09TCGrnHsZic5iLs3By3ngWsITMgy9yphEyVJZjUM6esHUS9yfea7N7DAmJz/1niM2EhVBZR2UKl8DS/SFO80OhUnCBkoYWgz2MdNAx8q0jFOK/Fy1GQvdqYe50BQc3PgLDmRyCU+aYOfFsoCtPa+yXvp2/ue9rHqLATflCf5QflVUcNIrzeSwAAAABJRU5ErkJggg==\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nimport iconRejected from './img/octagon.png'\n\nconst formSearch = document.querySelector('.form-search');\nconst listImages = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\n\nloader.style.display = 'none';\n\nformSearch.addEventListener('submit', onSearch);\n\n\nfunction onSearch(event) {\n    //сброс дефолтних налаштувань форми після події сабміт\n  event.preventDefault();\n  \n    // поле введення запиту не може бути порожнім при натисканні на кнопку відправки форми\n    if (event.target.elements.search.value.trim() === '') {\n        iziToast.show({\n        message: `The search query cannot be empty`,\n        timeout: 5000,\n        close: false,\n        position: 'bottomLeft',\n        backgroundColor: '#ef4040',\n        messageSize: 16,\n        messageColor: '#fff',\n        title: 'Sorry,',\n        titleSize: 16,\n        titleColor: '#fff',\n        iconUrl: iconRejected,\n        });\n        return; \n    }\n    //відображаєм повідомлення про завантаження зображень\n    loader.style.display = 'block';\n\n  const inputValue = event.target.elements.search.value.trim();\n  \n\n\n//  очищаємо галерею перед новим пошуком\n    listImages.innerHTML = '';\n\n    getPictures(inputValue)\n    .then(data => {\n     \n\n      if (!data.hits.length) {\n        iziToast.show({\n        title: 'Sorry,',\n        message: 'there are no images matching your search query. Please try again!',\n        position: 'bottomLeft',\n        backgroundColor: '#ef4040',\n        messageSize: 16,\n        messageColor: '#fff',\n        titleSize: 16,\n        titleColor: '#fff',\n        iconUrl: iconRejected,\n        });\n        }\n        console.log(data.hits);\n        console.log(data.hits.length);\n\n\n     listImages.insertAdjacentHTML('afterbegin', createMarkup(data.hits));\n      const refreshPage = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      refreshPage.refresh();\n\n      formSearch.reset();\n    })\n    .catch((error) => {\n      \n      console.log(error);\n      iziToast.show({\n        title: 'Sorry,',\n        message: 'try again!',\n        position: 'bottomLeft',\n        backgroundColor: '#ef4040',\n        messageSize: 16,\n        messageColor: '#fff',\n        titleSize: 16,\n        titleColor: '#fff',\n        iconUrl: iconRejected,\n        });\n\n    })\n  \n  .finally(() => loader.style.display = 'none');\n  \n\n}\n\n\nfunction getPictures(name) {\n  const BASE_URL = 'https://pixabay.com/api/';\n    const KEY = '42245088-70138ac1b5442bea0784205eb';\n    \n  const searchParams = new URLSearchParams({\n    key: KEY,\n    q: name,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  })\n\n  return fetch(`${BASE_URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    \n}\n\n\nfunction createMarkup(arr) {\n  return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n    `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n              width=\"360\"\n            />\n          </a>\n          <div class=\"thumb-block\">\n            <div class=\"block\">\n              <h2 class=\"title\">Likes</h2>\n              <p class=\"amount\">${likes}</p>\n            </div>\n            <div class=\"block\">\n              <h2 class=\"title\">Views</h2>\n              <p class=\"amount\">${views}</p>\n            </div>\n            <div class=\"block\">\n              <h2 class=\"title\">Comments</h2>\n              <p class=\"amount\">${comments}</p>\n            </div>\n            <div class=\"block\">\n              <h2 class=\"title\">Downloads</h2>\n              <p class=\"amount\">${downloads}</p>\n            </div>\n          </div>\n        </li>`)\n    .join('');\n}\n\n\n\n\n"],"names":["iconRejected","formSearch","listImages","loader","onSearch","event","iziToast","inputValue","getPictures","data","createMarkup","SimpleLightbox","error","name","BASE_URL","KEY","searchParams","response","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBAAA,MAAeA,EAAA,iiBCQTC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAG/CA,EAAO,MAAM,QAAU,OAEvBF,EAAW,iBAAiB,SAAUG,CAAQ,EAG9C,SAASA,EAASC,EAAO,CAKrB,GAHFA,EAAM,eAAc,EAGdA,EAAM,OAAO,SAAS,OAAO,MAAM,KAAM,IAAK,GAAI,CAClDC,EAAS,KAAK,CACd,QAAS,mCACT,QAAS,IACT,MAAO,GACP,SAAU,aACV,gBAAiB,UACjB,YAAa,GACb,aAAc,OACd,MAAO,SACP,UAAW,GACX,WAAY,OACZ,QAASN,CACjB,CAAS,EACD,MACH,CAEDG,EAAO,MAAM,QAAU,QAEzB,MAAMI,EAAaF,EAAM,OAAO,SAAS,OAAO,MAAM,OAKpDH,EAAW,UAAY,GAEvBM,EAAYD,CAAU,EACrB,KAAKE,GAAQ,CAGPA,EAAK,KAAK,QACbH,EAAS,KAAK,CACd,MAAO,SACP,QAAS,oEACT,SAAU,aACV,gBAAiB,UACjB,YAAa,GACb,aAAc,OACd,UAAW,GACX,WAAY,OACZ,QAASN,CACjB,CAAS,EAED,QAAQ,IAAIS,EAAK,IAAI,EACrB,QAAQ,IAAIA,EAAK,KAAK,MAAM,EAG/BP,EAAW,mBAAmB,aAAcQ,EAAaD,EAAK,IAAI,CAAC,EAC9C,IAAIE,EAAe,aAAc,CACnD,SAAU,GACV,aAAc,MACd,aAAc,GACtB,CAAO,EACW,QAAO,EAEnBV,EAAW,MAAK,CACtB,CAAK,EACA,MAAOW,GAAU,CAEhB,QAAQ,IAAIA,CAAK,EACjBN,EAAS,KAAK,CACZ,MAAO,SACP,QAAS,aACT,SAAU,aACV,gBAAiB,UACjB,YAAa,GACb,aAAc,OACd,UAAW,GACX,WAAY,OACZ,QAASN,CACjB,CAAS,CAET,CAAK,EAEF,QAAQ,IAAMG,EAAO,MAAM,QAAU,MAAM,CAG9C,CAGA,SAASK,EAAYK,EAAM,CACzB,MAAMC,EAAW,2BACTC,EAAM,qCAERC,EAAe,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAY,EAAE,EACvC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,CAEL,CAGA,SAASP,EAAaQ,EAAK,CACzB,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACtF;AAAA,0CACsCL,CAAa;AAAA;AAAA;AAAA,qBAGlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAOSC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,kCAIRC,CAAS;AAAA;AAAA;AAAA,cAG7B,EACT,KAAK,EAAE,CACZ"}